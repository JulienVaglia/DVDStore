<h1 class="ms-4 mt-5">Liste des ventes</h1>

<div class="w-75 mx-auto" style="margin-top: 6rem;">

    <div class="mb-5 mat-elevation-z8">
        <table mat-table [dataSource]="dataSource">


            <!-- Date Column -->
            <ng-container matColumnDef="Date">
                <th mat-header-cell *matHeaderCellDef> Date </th>
                <td mat-cell *matCellDef="let vente"> {{vente.date  | date:'dd/MM/yyyy'}} </td>
            </ng-container>

            <!-- Montant Column -->
            <ng-container matColumnDef="Montant">
                <th mat-header-cell *matHeaderCellDef> Montant (€) </th>
                <td mat-cell *matCellDef="let vente"> {{vente.quantity * vente.dvdStoreGetDTO.price}}€ </td>
            </ng-container>

            <!-- DVD Column -->
            <ng-container matColumnDef="DVD">
                <th mat-header-cell *matHeaderCellDef> DVD </th>
                <td mat-cell *matCellDef="let vente">
                    <a [href]="'movie_detail/'+vente.dvdStoreGetDTO.id">{{vente.dvdStoreGetDTO.name}}</a>
                </td>
            </ng-container>

            <!-- Client Column -->
            <ng-container matColumnDef="Client">
                <th mat-header-cell *matHeaderCellDef> Client </th>
                <td mat-cell *matCellDef="let vente">
                    <a [href]="'client_detail/'+vente.clientGetDTO.id">{{vente.clientGetDTO.nom}} {{vente.clientGetDTO.prenom}}</a>
                </td>
            </ng-container>

            <!-- Quantité Column -->
            <ng-container matColumnDef="Quantité">
                <th mat-header-cell *matHeaderCellDef> Quantité </th>
                <td mat-cell *matCellDef="let vente"> {{vente.quantity}} </td>
            </ng-container>

            <ng-container matColumnDef="Détails">
                <th mat-header-cell *matHeaderCellDef> </th>
                <td mat-cell *matCellDef="let vente">
                    <a [href]="'sale_detail/'+vente.id" class="card-link btn btn-outline-primary btn-sm"
                        style="--bs-btn-padding-y: .25rem;">Détail</a>
                </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
        </table>

        <mat-paginator [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons
            aria-label="Select page of periodic elements">
        </mat-paginator>
    </div>